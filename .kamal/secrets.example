# Kamal secrets example
# Copy this file to .kamal/secrets.staging or .kamal/secrets.production
# and fill in your values.
#
# Option 1: Direct values
# SECRET_KEY_BASE=your-secret-key-base
# DATABASE_URL=postgres://user:pass@host:5432/database
#
# Option 2: Bitwarden Secrets Manager
# Requires BWS_ACCESS_TOKEN environment variable
# See: https://bitwarden.com/help/secrets-manager-cli/

# Using Bitwarden Secrets Manager:
PROJECT_ID=your-bitwarden-project-id

SECRETS=$(kamal secrets fetch --adapter bitwarden-sm $PROJECT_ID/all)

# Core (required)
SECRET_KEY_BASE=$(kamal secrets extract SECRET_KEY_BASE $SECRETS)
DATABASE_URL=$(kamal secrets extract DATABASE_URL $SECRETS)

# AWS SES (required for sending emails)
AWS_ACCESS_KEY_ID=$(kamal secrets extract AWS_ACCESS_KEY_ID $SECRETS)
AWS_SECRET_ACCESS_KEY=$(kamal secrets extract AWS_SECRET_ACCESS_KEY $SECRETS)

# Cloudflare R2 (optional - for file storage)
R2__ACCESS_KEY=$(kamal secrets extract R2__ACCESS_KEY $SECRETS)
R2__ACCESS_SECRET=$(kamal secrets extract R2__ACCESS_SECRET $SECRETS)

# OAuth (optional - for social login)
GITHUB_CLIENT_ID=$(kamal secrets extract GITHUB_CLIENT_ID $SECRETS)
GITHUB_CLIENT_SECRET=$(kamal secrets extract GITHUB_CLIENT_SECRET $SECRETS)
GOOGLE_CLIENT_ID=$(kamal secrets extract GOOGLE_CLIENT_ID $SECRETS)
GOOGLE_CLIENT_SECRET=$(kamal secrets extract GOOGLE_CLIENT_SECRET $SECRETS)

# API Keys (optional)
ADMIN_API_KEY=$(kamal secrets extract ADMIN_API_KEY $SECRETS)
BILLING_API_KEY=$(kamal secrets extract BILLING_API_KEY $SECRETS)
INVITE_CODE=$(kamal secrets extract INVITE_CODE $SECRETS)

# Monitoring (optional)
BETTERSTACK__LOGS_TOKEN=$(kamal secrets extract BETTERSTACK__LOGS_TOKEN $SECRETS)
RORVSWILD__API_KEY=$(kamal secrets extract RORVSWILD__API_KEY $SECRETS)
