<% level = local_assigns[:level] || 1 %>

<li class="<%= 'text-stone-800 relative before:absolute before:left-2.5 before:top-0 before:w-px before:h-full before:bg-stone-300 last:before:h-4 after:absolute after:left-2.5 after:top-4 after:w-2 after:h-px after:bg-stone-300 after:hidden last:after:block' if level == 2 %>">
  <%= link_to url, data: local_assigns[:data], target: local_assigns[:target], class: "flex items-center justify-between gap-2 #{'ml-4 my-0.5' if level == 2} px-2 py-1.5 last:mb-0 rounded-md hover:bg-stone-200/40 #{'bg-stone-200/50' if is_active}" do %>
    <span><%= label %></span>
    <% if local_assigns[:count] && count.present? %>
      <span
        class="
          rounded-md px-2 py-0.5 leading-3 bg-stone-200 text-[10px] tabular-nums
        "
      >
        <%= count %>
      </span>
    <% elsif local_assigns[:icon] && icon.present? %>
      <%= lucide_icon(icon, class: "size-4") %>
    <% end %>
  <% end %>
</li>
