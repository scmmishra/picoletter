<div class="space-y-3 text-sm">
  <% if cohort.has_filters? %>
    <div class="font-sans text-stone-600">
      <span>Subscribers who match:</span>
      <span class="font-medium text-stone-800">
        <%= cohort.filter_group.operator == 'and' ? 'ALL' : 'ANY' %>
      </span>
      <span>of these conditions:</span>
    </div>

    <div class="grid gap-2">
      <% cohort.filter_group.flat_conditions.each do |condition| %>
        <div class="inline-flex items-center gap-2 px-3 py-2 bg-stone-50 border border-stone-200 rounded-lg">
          <div class="flex items-center gap-1.5 font-sans">
            <span class="text-stone-600"><%= FilterCondition.field_display_name(condition.field) %></span>
            <span class="font-medium text-stone-800"><%= FilterCondition.operator_display(condition.field, condition.operator) %></span>

            <% if condition.field == 'label' %>
              <% label = newsletter.labels.find_by(name: condition.value) %>
              <% if label %>
                <div class="flex items-center gap-1.5">
                  <div class="size-3 rounded" style="background-color: <%= label.color %>"></div>
                  <span class="font-medium text-stone-800"><%= label.name %></span>
                </div>
              <% else %>
                <span class="font-medium text-red-600">"<%= condition.value %>" (deleted)</span>
              <% end %>
            <% else %>
              <span class="font-medium text-stone-800">"<%= condition.value %>"</span>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="flex items-center gap-2 p-3 bg-stone-50 border border-stone-200 rounded-lg">
      <div class="size-2 bg-stone-400 rounded-full"></div>
      <span class="text-stone-600">No filter conditions set. All verified subscribers are included.</span>
    </div>
  <% end %>
</div>
